<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kursanmeldung – Demo</title>
  <meta name="color-scheme" content="light dark">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <h1>Kursanmeldung</h1>
      <p class="subtitle">Demo-Modus – Daten werden nicht gespeichert. Später per Power Automate (HTTP) anschließbar.</p>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h2>1) Kurs auswählen</h2>
      <label class="label" for="course">Kurs</label>
      <select id="course" class="input"></select>

      <div id="courseDetails" class="details"></div>
    </section>

    <section class="card">
      <h2>2) Optionen</h2>
      <div class="grid two">
        <div>
          <label class="label">Mitgliedschaft</label>
          <div class="row">
            <label class="chip"><input type="radio" name="membership" value="mitglied" checked> Mitglied</label>
            <label class="chip"><input type="radio" name="membership" value="nicht"> Nicht-Mitglied</label>
          </div>
        </div>
        <div>
          <label class="label">Umfang</label>
          <div class="row">
            <label class="chip"><input type="radio" name="extent" value="VOLL" checked> Voll</label>
            <label class="chip"><input type="radio" name="extent" value="HALB"> Halb</label>
          </div>
        </div>
      </div>

      <div class="pricebox">
        <div>Preis:</div>
        <div id="price" class="price">–</div>
      </div>
    </section>

    <section class="card">
      <h2>3) Teilnehmerdaten</h2>
      <div class="grid two">
        <div>
          <label class="label" for="firstname">Vorname *</label>
          <input id="firstname" class="input" autocomplete="given-name" required>
        </div>
        <div>
          <label class="label" for="lastname">Nachname *</label>
          <input id="lastname" class="input" autocomplete="family-name" required>
        </div>
        <div>
          <label class="label" for="email">E-Mail *</label>
          <input id="email" class="input" type="email" autocomplete="email" required>
        </div>
        <div>
          <label class="label" for="note">Bemerkung</label>
          <input id="note" class="input" placeholder="optional">
        </div>
      </div>
    </section>

    <section class="card">
      <h2>4) Einzugsermächtigung (SEPA)</h2>
      <p class="hint">Hinweis: IBAN wird <strong>nicht</strong> per E-Mail versendet. Aufbewahrung nur intern und zweckgebunden.</p>
      <div class="grid two">
        <div>
          <label class="label" for="sepa_holder">Kontoinhaber *</label>
          <input id="sepa_holder" class="input" required>
        </div>
        <div>
          <label class="label" for="sepa_bank">Bankname *</label>
          <input id="sepa_bank" class="input" required>
        </div>
        <div class="full">
          <label class="label" for="sepa_iban">IBAN *</label>
          <input id="sepa_iban" class="input" placeholder="DE.." inputmode="text" autocomplete="off" required>
        </div>
      </div>

      <label class="checkbox">
        <input id="ds_check" type="checkbox" required>
        Ich bestätige die Informationen zur Einzugsermächtigung und stimme den Datenschutzinformationen zu.
      </label>
    </section>

    <section class="card actions">
      <button id="submitBtn" class="btn">Jetzt unverbindlich vormerken</button>
      <button id="resetBtn" class="btn ghost">Zurücksetzen</button>
      <div id="message" class="message" role="status" aria-live="polite"></div>
    </section>

    <section class="card">
      <details>
        <summary>Debug (Demo-Ausgabe)</summary>
        <pre id="debugOut" class="debug"></pre>
      </details>
    </section>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <small>© <span id="year"></span> Kursanmeldung – Demo. Später an Power Automate / SharePoint anschließen.</small>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script src="./app.js"></script>
</body>
</html>
